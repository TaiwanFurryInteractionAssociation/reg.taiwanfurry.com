(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{387:function(t,e){t.exports=["S","M","L","XL","2XL","3XL"]},448:function(t,e,n){"use strict";n.r(e);n(49),n(38),n(11);var o=n(3),d=(n(21),n(36),n(387)),r=n.n(d),l=n(72),m=n.n(l),c=n(71),f={layout:"admin",data:function(){return{loading:!1,config:m.a.getConfig(),SHIRT_SIZES:r.a,columnDefs:[{field:"attendee_no",headerName:this.$t("admin.attendees.fields.attendee_no"),width:128,tooltipField:"attendee_no"},{field:"attendee_nickname",headerName:this.$t("admin.attendees.fields.attendee_nickname"),width:192,tooltipField:"attendee_nickname"},{field:"attendee_card_name_1",headerName:this.$t("admin.attendees.fields.attendee_card_name_1"),width:128,tooltipField:"attendee_card_name_1"},{field:"attendee_card_name_2",headerName:this.$t("admin.attendees.fields.attendee_card_name_2"),width:128,tooltipField:"attendee_card_name_2"},{field:"attendee_points",headerName:this.$t("admin.attendees.fields.attendee_points"),width:96,tooltipField:"attendee_points"},{field:"created_at",headerName:this.$t("admin.attendees.fields.updated_at"),width:224,tooltipField:"updated_at",valueGetter:function(t){return new Date(t.data.created_at).toLocaleString("zh-TW")},filterValueGetter:function(t){return new Date(t.data.created_at).toLocaleString("zh-TW")}}],defaultColumnDef:{sortable:!0,filter:!0,floatingFilter:!0,resizable:!0,floatingFilterComponentParams:{suppressFilterButton:!0}},dashboard:null}},mounted:function(){this.getDashboard()},methods:{getDashboard:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("/api/admin/dashboard").then((function(e){t.dashboard=e.data.data,t.dashboard.rooms=t.dashboard.rooms.map((function(t){return t.room_date=t.room_date.slice(0,10),t}))})).catch((function(t){c.a.showRequestError(t)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}}},_=n(30),component=Object(_.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p:16 overflow:auto"},[e("Loading",{attrs:{value:t.loading}}),t._v(" "),e("div",{staticClass:"font-size:2rem"},[t._v(t._s(t.$t("admin.dashboard.title")))]),t._v(" "),t.dashboard&&t.config?e("div",{staticClass:"flex align-items:center@<md flex-direction:column"},[e("div",{staticClass:"font-size:1.5rem mt:16"},[t._v("\n      "+t._s(t.$t("admin.dashboard.registration"))+"\n    ")]),t._v(" "),e("div",{staticClass:"round border drop-shadow p:16|32 bg:white mt:8 flex w:fit-content flex-direction:column@<md"},[e("div",{staticClass:"flex flex-direction:column align-items:center mx:32 mb:8"},[e("div",{staticClass:"font-size:1.4rem mb:16"},[t._v("\n          "+t._s(t.$t("admin.dashboard.registrationTotal"))+"\n        ")]),t._v(" "),e("div",{staticClass:"font-size:1.2rem font-weight:bold"},[t._v("\n          "+t._s((t.dashboard.registeredCounts.A?parseInt(t.dashboard.registeredCounts.A):0)+(t.dashboard.registeredCounts.B?parseInt(t.dashboard.registeredCounts.B):0)+(t.dashboard.registeredCounts.C?parseInt(t.dashboard.registeredCounts.C):0))+"\n        ")])]),t._v(" "),t._l(t.config.levels,(function(n){var o;return e("div",{key:n.level,staticClass:"flex flex-direction:column align-items:center mx:32 mb:8"},[e("div",{staticClass:"font-size:1.4rem mb:16"},[t._v("\n          "+t._s(t.$t("levels."+n.level))+"\n        ")]),t._v(" "),e("div",{staticClass:"font-size:1.2rem font-weight:bold"},[t._v("\n          "+t._s(null!==(o=t.dashboard.registeredCounts[n.level])&&void 0!==o?o:0)+"\n        ")])])}))],2),t._v(" "),e("div",{staticClass:"font-size:1.5rem mt:16"},[t._v("\n      "+t._s(t.$t("admin.dashboard.shirt"))+"\n    ")]),t._v(" "),e("div",{staticClass:"round border drop-shadow p:16|32 bg:white mt:8 flex w:fit-content flex-direction:column@<md"},t._l(t.SHIRT_SIZES,(function(n){var o;return e("div",{key:n,staticClass:"flex flex-direction:column align-items:center mx:32 mb:8"},[e("div",{staticClass:"font-size:1.4rem mb:16"},[t._v(t._s(n))]),t._v(" "),e("div",{staticClass:"font-size:1.2rem font-weight:bold"},[t._v("\n          "+t._s(null!==(o=t.dashboard.shirtCounts[n])&&void 0!==o?o:0)+"\n        ")])])})),0),t._v(" "),e("div",{staticClass:"font-size:1.5rem mt:16"},[t._v(t._s(t.$t("admin.dashboard.room")))]),t._v(" "),t._l(t.dashboard.rooms.filter((function(e){return e.room_date==t.config.room_reservation.room_can_be_reserve_from_to_dates[0]})).map((function(t){return t.room_type})),(function(n){return e("div",{key:n},[e("div",{staticClass:"round border drop-shadow p:16|32 bg:white mt:8 flex w:fit-content flex-direction:column@<md"},[e("div",{staticClass:"h:auto flex align-items:center justify-content:center font-size:1.2rem w:8rem w:100%@<md mb:16@<md"},[t._v("\n          "+t._s(t.$t("rooms."+n))+"\n        ")]),t._v(" "),t._l(t.dashboard.rooms.filter((function(t){return t.room_type==n})),(function(n){return e("div",{key:n.room_id,staticClass:"flex flex-direction:column align-items:center mx:32 mb:8"},[e("div",{staticClass:"font-size:1.4rem mb:16"},[t._v(t._s(n.room_date))]),t._v(" "),e("div",{staticClass:"font-size:1.2rem font-weight:bold"},[t._v("\n            "+t._s(n.room_total_quantity-n.room_left_quantity)+" /\n            "+t._s(n.room_total_quantity)+"\n          ")])])}))],2)])})),t._v(" "),e("div",{staticClass:"flex"},[e("div",[e("div",{staticClass:"font-size:1.5rem mt:16"},[t._v("\n          "+t._s(t.$t("admin.dashboard.fursuiter"))+"\n        ")]),t._v(" "),e("div",{staticClass:"round border drop-shadow p:16|32 bg:white mt:8 flex w:fit-content flex-direction:column@<md"},[e("div",{staticClass:"font-size:1.4rem"},[t._v(t._s(t.dashboard.fursuiterCount))])])]),t._v(" "),e("div",{staticClass:"mx:16"},[e("div",{staticClass:"font-size:1.5rem mt:16"},[t._v("\n          "+t._s(t.$t("admin.dashboard.ftpTeam"))+"\n        ")]),t._v(" "),e("div",{staticClass:"round border drop-shadow p:16|32 bg:white mt:8 flex w:fit-content flex-direction:column@<md"},t._l(["PhantomThief","Detective"],(function(n){var o;return e("div",{key:n,staticClass:"flex flex-direction:column align-items:center mx:32 mb:8"},[e("div",{staticClass:"font-size:1.4rem mb:16"},[t._v("\n              "+t._s(t.$t("ftp_teams."+n))+"\n            ")]),t._v(" "),e("div",{staticClass:"font-size:1.2rem font-weight:bold"},[t._v("\n              "+t._s(null!==(o=t.dashboard.ftpTeamCounts[n])&&void 0!==o?o:0)+"\n            ")])])})),0)]),t._v(" "),e("div",[e("div",{staticClass:"font-size:1.5rem mt:16"},[t._v("\n          "+t._s(t.$t("admin.dashboard.ftpBottle"))+"\n        ")]),t._v(" "),e("div",{staticClass:"round border drop-shadow p:16|32 bg:white mt:8 flex w:fit-content flex-direction:column@<md"},[e("div",{staticClass:"font-size:1.4rem"},[t._v(t._s(t.dashboard.ftpBottleCount))])])])]),t._v(" "),e("div",{staticClass:"font-size:1.5rem my:16"},[t._v("\n      "+t._s(t.$t("admin.dashboard.pointToplist"))+"\n    ")]),t._v(" "),e("div",{staticClass:"height:512"},[e("ag-grid-vue",{staticClass:"ag-theme-alpine height:512 w:100%",staticStyle:{"flex-grow":"1"},attrs:{columnDefs:t.columnDefs,defaultColDef:t.defaultColumnDef,rowData:t.dashboard.pointToplist,enableCellTextSelection:!0,suppressRowTransform:!0,animateRows:"true"}})],1),t._v(" "),e("div",{staticClass:"font-size:1.5rem my:16"},[t._v("\n      "+t._s(t.$t("ftp_teams.Detective"))+" "+t._s(t.$t("admin.dashboard.pointToplist"))+"\n    ")]),t._v(" "),e("div",{staticClass:"height:512"},[e("ag-grid-vue",{staticClass:"ag-theme-alpine height:512 w:100%",staticStyle:{"flex-grow":"1"},attrs:{columnDefs:t.columnDefs,defaultColDef:t.defaultColumnDef,rowData:t.dashboard.detectivePointToplist,enableCellTextSelection:!0,suppressRowTransform:!0,animateRows:"true"}})],1),t._v(" "),e("div",{staticClass:"font-size:1.5rem my:16"},[t._v("\n      "+t._s(t.$t("ftp_teams.PhantomThief"))+"\n      "+t._s(t.$t("admin.dashboard.pointToplist"))+"\n    ")]),t._v(" "),e("div",{staticClass:"height:512"},[e("ag-grid-vue",{staticClass:"ag-theme-alpine height:512 w:100%",staticStyle:{"flex-grow":"1"},attrs:{columnDefs:t.columnDefs,defaultColDef:t.defaultColumnDef,rowData:t.dashboard.phantomThiefPointToplist,enableCellTextSelection:!0,suppressRowTransform:!0,animateRows:"true"}})],1)],2):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Loading:n(168).default})}}]);