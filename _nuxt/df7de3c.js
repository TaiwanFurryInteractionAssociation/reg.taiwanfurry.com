(window.webpackJsonp=window.webpackJsonp||[]).push([[53,4,12,16,19],{369:function(t,e,n){"use strict";n.r(e);var r=n(135),o=n.n(r),l={props:{type:{type:String,default:"primary"}},computed:{computedStyle:function(){return{background:o.a[this.type].background,color:o.a[this.type].color}}},mounted:function(){this.button=this.$refs.button}},c=n(30),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("button",{ref:"button",staticClass:"b:0 p:8|16 w:100% border-radius:4 cursor:pointer transform:translateY(-2):hover transition:0.2s",style:t.computedStyle,on:{click:function(e){return e.preventDefault(),t.$emit("click")}}},[t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Button:n(369).default})},370:function(t,e,n){"use strict";var r=n(14),o=n(7),l=n(5),c=n(106),d=n(26),f=n(16),v=n(169),m=n(66),_=n(105),w=n(238),h=n(4),z=n(87).f,y=n(60).f,x=n(22).f,C=n(371),S=n(372).trim,k="Number",O=o.Number,T=O.prototype,$=o.TypeError,E=l("".slice),I=l("".charCodeAt),R=function(t){var e=w(t,"number");return"bigint"==typeof e?e:N(e)},N=function(t){var e,n,r,o,l,c,d,code,f=w(t,"number");if(_(f))throw $("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(f=S(f),43===(e=I(f,0))||45===e){if(88===(n=I(f,2))||120===n)return NaN}else if(48===e){switch(I(f,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+f}for(c=(l=E(f,2)).length,d=0;d<c;d++)if((code=I(l,d))<48||code>o)return NaN;return parseInt(l,r)}return+f};if(c(k,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var Q,L=function(t){var e=arguments.length<1?0:O(R(t)),n=this;return m(T,n)&&h((function(){C(n)}))?v(Object(e),n,L):e},j=r?z(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;j.length>A;A++)f(O,Q=j[A])&&!f(L,Q)&&x(L,Q,y(O,Q));L.prototype=T,T.constructor=L,d(o,k,L,{constructor:!0})}},371:function(t,e,n){var r=n(5);t.exports=r(1..valueOf)},372:function(t,e,n){var r=n(5),o=n(39),l=n(17),c=n(373),d=r("".replace),f="["+c+"]",v=RegExp("^"+f+f+"*"),m=RegExp(f+f+"*$"),_=function(t){return function(e){var n=l(o(e));return 1&t&&(n=d(n,v,"")),2&t&&(n=d(n,m,"")),n}};t.exports={start:_(1),end:_(2),trim:_(3)}},373:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},374:function(t,e,n){"use strict";n.r(e);n(370);var r=n(135),o=n.n(r),l={props:{field:{type:String,default:""},type:{type:String,default:"text"},value:{type:String,default:""},placeholder:{type:String,default:""},error:{default:null},required:{type:Boolean,default:!1},maxlength:{type:Number,default:null}},mounted:function(){this.input=this.$refs.input},data:function(){return{COLORS:o.a}},computed:{computedStyle:function(){return this.error&&0!=this.error.length?{border:"1px solid #f44336"}:{}}}},c=n(30),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[t.field?e("div",{staticClass:"my:8 font-weight:bold font-color:gray font-size:1rem"},[t._v("\n    "+t._s(t.field)+" :\n  ")]):t._e(),t._v(" "),e("input",{ref:"input",style:t.computedStyle,attrs:{type:t.type,placeholder:t.placeholder,required:t.required,maxlength:t.maxlength},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})])}),[],!1,null,null,null);e.default=component.exports},377:function(t,e,n){"use strict";n.r(e);var r={},o=n(30),component=Object(o.a)(r,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"round drop-shadow p:16|48 bg:white cursor:pointer",on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},380:function(t,e,n){"use strict";n.r(e);n(20),n(40);var r={props:{value:{type:Boolean,default:!1},title:{type:String,default:""},description:{type:String,default:""},yesText:{type:String,default:""},yesType:{type:String,default:"primary"},noText:{type:String,default:""},noType:{type:String,default:"negative"}}},o=n(30),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return t.value?e("div",{staticClass:"position:fixed top:0 left:0 w:100vw h:100vh z-index:2 bg:rgba(0,0,0,0.5) flex flex-center"},[e("div",{staticClass:"round border bg:white min-width:300"},[e("div",{staticClass:"p:16 border-bottom:2px|rgba(0,0,0,0.2)|solid font-size:1.2rem font-weight:bold"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),e("div",{staticClass:"p:32 border-bottom:2px|rgba(0,0,0,0.2)|solid"},[t._v("\n      "+t._s(t.description)+"\n    ")]),t._v(" "),e("div",{staticClass:"p:16 flex justify-content:flex-end"},[t.noText?e("Button",{staticClass:"mr:8",attrs:{type:t.noType},on:{click:function(e){return t.$emit("no")}}},[t._v("\n        "+t._s(t.noText)+"\n      ")]):t._e(),t._v(" "),t.yesText?e("Button",{attrs:{type:t.yesType},on:{click:function(e){return t.$emit("yes")}}},[t._v("\n        "+t._s(t.yesText)+"\n      ")]):t._e()],1)])]):t._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Button:n(369).default})},453:function(t,e,n){"use strict";n.r(e);n(19),n(88),n(20),n(40);var r=n(3),o=(n(21),n(72)),l=n.n(o),c=n(71),d=n(135),f=n.n(d),v={name:"PuzzlePage",data:function(){return{COLORS:f.a,config:l.a.getConfig(),isPuzzleOpened:l.a.isPuzzleOpened(),loading:!0,status:null,selectedQuizID:null,selectedQuiz:null,answer:null,viewTOS:!1,viewLetter:!1,dialog:{show:!1,title:"",description:""}}},mounted:function(){this.$store.commit("app/setTitle",this.$t("puzzle.title")),this.getStatus()},methods:{getStatus:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("/api/puzzle").then((function(e){t.status=e.data.status})).catch((function(t){c.a.showRequestError(t)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},start:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.post("/api/puzzle/start").then(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getStatus();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){c.a.showRequestError(t)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},solve:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.post("/api/puzzle/solve",{quiz_no:t.selectedQuizID,answer:t.answer}).then(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.a.showSnackbar({message:t.$t("puzzle.messages.correctAnswer"),colorType:"positive"}),t.selectedQuiz=null,t.selectedQuizID=null,t.dialog.show=!0,t.dialog.title=t.$t("puzzle.messages.correctAnswer"),t.dialog.description=n.data.data.dialog_after_answer.join("\n"),e.next=8,t.getStatus();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){c.a.showRequestError(t)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}}},m=v,_=n(30),component=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e("Loading",{attrs:{value:t.loading}}),t._v(" "),t.status?e("div",[t.status.started_at?e("div",[e("div",{staticClass:"display:grid grid-template-columns:1fr gap:16 w:100%"},[e("RoundButton",{on:{click:function(e){return t.viewTOS=!t.viewTOS}}},[t._v("\n          "+t._s(t.viewTOS?t.$t("puzzle.buttons.closeTOS"):t.$t("puzzle.buttons.viewTOS"))+"\n\n          "),t.viewTOS?e("div",{staticClass:"white-space:pre-wrap mt:16",domProps:{textContent:t._s(t.$t("puzzle.tos"))}}):t._e()]),t._v(" "),e("RoundButton",{on:{click:function(e){return t.viewLetter=!t.viewLetter}}},[t._v(t._s(t.viewLetter?t.$t("puzzle.buttons.closeLetter"):t.$t("puzzle.buttons.viewLetter"))+"\n          "),t.viewLetter?e("div",t._l(t.status.notice,(function(n){return e("div",{key:n,staticClass:"my:16 font-size:1.2rem"},[t._v("\n              "+t._s(n)+"\n            ")])})),0):t._e()]),t._v(" "),e("div",{staticClass:"border-top:1px|solid|#CECECE my:16"}),t._v(" "),t._l(t.status.quizes,(function(n,r){return e("div",{key:r,staticClass:"bg:white round border drop-shadow flex flex-direction:column flex-center p:16 cursor:pointer font-size:1.2rem",style:{background:t.selectedQuizID==r?t.COLORS.primary.background:"white",color:t.selectedQuizID==r?t.COLORS.primary.color:"black"},on:{click:function(e){t.selectedQuizID=r,t.selectedQuiz=n,t.answer=""}}},[e("div",[t._v("\n            "+t._s(n.question[0]+n.name)+"\n          ")]),t._v(" "),n.answer?e("div",{staticClass:"mt:8"},[t._v("\n            -- "+t._s(t.$t("puzzle.messages.alreadySolved"))+" (\n            "+t._s(t.$t("puzzle.messages.answer"))+" : "+t._s(n.answer)+" ) --\n          ")]):t._e()])}))],2),t._v(" "),t.selectedQuiz?e("div",{staticClass:"font-size:1.2rem"},[e("div",{staticClass:"mt:32 pt:32 border-top:1px|solid|#CECECE w:100% text-align:center"},[t._l(t.selectedQuiz.question,(function(n){return e("div",{key:n,staticClass:"mb:8"},[t._v("\n            "+t._s(n)+"\n          ")])})),t._v(" "),e("div",{staticClass:"display:grid grid-template-columns:1fr!@<=sm gap:32 w:100% my:32",class:{"grid-template-columns:1fr|1fr!@<=md":t.selectedQuiz.images.length>=2},style:{gridTemplateColumns:"repeat(".concat(t.selectedQuiz.images.length,", 1fr)")}},t._l(t.selectedQuiz.images,(function(t){return e("a",{key:t,attrs:{target:"_blank",href:"/assets/puzzzzle/"+t+".webp"}},[e("img",{staticClass:"max-width:100% width:auto max-height:80vh",attrs:{src:"/assets/puzzzzle/"+t+".webp"}})])})),0)],2),t._v(" "),e("div",{staticClass:"mt:32 pt:32 border-top:1px|solid|#CECECE w:100% text-align:center"},[e("div",{staticClass:"p:48|64 p:32@<sm bg:white flex flex-center flex-direction:column round drop-shadow border word-break:break-all"},[t.selectedQuiz.answer?e("div",{staticClass:"line-height:3rem"},[t._v("\n              "+t._s(t.$t("puzzle.errors.already_solved"))+"\n              "),e("br"),t._v(" "),t._l(t.selectedQuiz.tips,(function(n){return e("div",{key:n},[t._v("\n                "+t._s(n)+"\n              ")])})),t._v("\n              "+t._s(t.$t("puzzle.messages.answer"))+" : "+t._s(t.selectedQuiz.answer)+"\n              "),e("br"),t._v("\n              "+t._s(t.$t("puzzle.messages.answerTime"))+" :\n              "+t._s(new Date(t.selectedQuiz.finished_at).toLocaleString())+"\n              "),e("br"),t._v("\n              "+t._s(t.$t("puzzle.messages.messageAfterSolved"))+" :\n              "+t._s(t.selectedQuiz.dialog_after_answer.join("\n"))+"\n            ")],2):e("div",[t._l(t.selectedQuiz.tips,(function(n){return e("div",{key:n},[n.indexOf("://")>-1?e("a",{attrs:{href:n,target:"_blank"}},[t._v(t._s(n))]):e("span",[t._v(t._s(n))])])})),t._v(" "),e("div",{staticClass:"mt:16"},[t._v("\n                "+t._s(t.$t("puzzle.messages.inputAnswer"))+"\n              ")]),t._v(" "),e("div",{staticClass:"mt:32 mb:16"},[e("InputText",{model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)],2)]),t._v(" "),t.selectedQuiz.answer?t._e():e("div",{staticClass:"flex flex-center"},[e("RoundButton",{staticClass:"mt:32",on:{click:t.solve}},[t._v(t._s(t.$t("common.submit")))])],1)])]):t._e(),t._v(" "),e("Dialog",{attrs:{value:t.dialog.show,title:t.dialog.title,description:t.dialog.description,yesText:t.$t("common.close")},on:{yes:function(e){t.dialog.show=!1}}})],1):e("div",{staticClass:"flex flex-direction:column"},[e("div",{staticClass:"round border drop-shadow p:16|32 bg:white mt:8"},t._l(t.status.notice,(function(n){return e("div",{key:n,staticClass:"my:16 font-size:1.2rem"},[t._v("\n          "+t._s(n)+"\n        ")])})),0),t._v(" "),e("div",{staticClass:"round border drop-shadow p:32|32 bg:white mt:8 white-space:pre-wrap",domProps:{textContent:t._s(t.$t("puzzle.tos"))}}),t._v(" "),e("div",{staticClass:"flex flex-center mt:32"},[e("RoundButton",{on:{click:function(e){return t.start()}}},[t._v(t._s(t.$t("puzzle.buttons.start")))])],1)])]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Loading:n(168).default,RoundButton:n(377).default,InputText:n(374).default,Dialog:n(380).default})}}]);