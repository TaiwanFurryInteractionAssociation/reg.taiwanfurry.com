(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{370:function(e,t,r){"use strict";var o=r(14),n=r(7),l=r(5),c=r(106),d=r(26),f=r(16),h=r(169),m=r(66),w=r(105),y=r(238),E=r(4),k=r(87).f,S=r(60).f,A=r(22).f,v=r(371),L=r(372).trim,N="Number",I=n.Number,R=I.prototype,j=n.TypeError,O=l("".slice),T=l("".charCodeAt),x=function(e){var t=y(e,"number");return"bigint"==typeof t?t:_(t)},_=function(e){var t,r,o,n,l,c,d,code,f=y(e,"number");if(w(f))throw j("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(f=L(f),43===(t=T(f,0))||45===t){if(88===(r=T(f,2))||120===r)return NaN}else if(48===t){switch(T(f,1)){case 66:case 98:o=2,n=49;break;case 79:case 111:o=8,n=55;break;default:return+f}for(c=(l=O(f,2)).length,d=0;d<c;d++)if((code=T(l,d))<48||code>n)return NaN;return parseInt(l,o)}return+f};if(c(N,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var P,M=function(e){var t=arguments.length<1?0:I(x(e)),r=this;return m(R,r)&&E((function(){v(r)}))?h(Object(t),r,M):t},F=o?k(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),U=0;F.length>U;U++)f(I,P=F[U])&&!f(M,P)&&A(M,P,S(I,P));M.prototype=R,R.constructor=M,d(n,N,M,{constructor:!0})}},371:function(e,t,r){var o=r(5);e.exports=o(1..valueOf)},372:function(e,t,r){var o=r(5),n=r(39),l=r(17),c=r(373),d=o("".replace),f="["+c+"]",h=RegExp("^"+f+f+"*"),m=RegExp(f+f+"*$"),w=function(e){return function(t){var r=l(n(t));return 1&e&&(r=d(r,h,"")),2&e&&(r=d(r,m,"")),r}};e.exports={start:w(1),end:w(2),trim:w(3)}},373:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},393:function(e,t){e.exports=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`},394:function(e,t){let r=!1;t.logging=r,t.setLogging=e=>{r=e},t.log=(...e)=>r?console.log.apply(this,e):null},395:function(e,t,r){var o,n;o=function(){function e(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var base=document.createElement("base");if(base.href=arguments[0],1===e)return base.href;var head=document.getElementsByTagName("head")[0];head.insertBefore(base,head.firstChild);for(var t,a=document.createElement("a"),r=1;r<e;r++)a.href=arguments[r],t=a.href,base.href=t;return head.removeChild(base),t}return e},void 0===(n="function"==typeof o?o.call(t,r,t,e):o)||(e.exports=n)},399:function(e,t,r){const o=r(393);let n=0;e.exports=({id:e,action:t,payload:r={}})=>{let l=e;return void 0===l&&(l=o("Job",n),n+=1),{id:l,action:t,payload:r}}},400:function(e,t,r){const o=r(419),n=r(422),l=r(399),{log:c}=r(394),d=r(393),{defaultOEM:f}=r(423),{defaultOptions:h,spawnWorker:m,terminateWorker:w,onMessage:y,loadImage:E,send:k}=r(424);let S=0;e.exports=async(e={})=>{const t=d("Worker",S),{logger:r,errorHandler:A,...v}=o({...h,...e}),L={},N={};let I,R;const j=new Promise(((e,t)=>{R=e,I=t}));let O=m(v);O.onerror=e=>{I(e.message)},S+=1;const T=(e,t)=>{L[e]=t},x=(e,t)=>{N[e]=t},_=({id:e,action:r,payload:o})=>new Promise(((n,l)=>{c(`[${t}]: Start ${e}, action=${r}`),T(r,n),x(r,l),k(O,{workerId:t,jobId:e,action:r,payload:o})}));y(O,(({workerId:e,jobId:t,status:o,action:l,data:data})=>{if("resolve"===o){c(`[${e}]: Complete ${t}`);let r=data;"recognize"===l?r=n(data):"getPDF"===l&&(r=Array.from({...data,length:Object.keys(data).length})),L[l]({jobId:t,data:r})}else if("reject"===o){if(N[l](data),"load"===l&&I(data),!A)throw Error(data);A(data)}else"progress"===o&&r({...data,userJobId:t})}));const P={id:t,worker:O,setResolve:T,setReject:x,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(path,text,e)=>_(l({id:e,action:"FS",payload:{method:"writeFile",args:[path,text]}})),readText:(path,e)=>_(l({id:e,action:"FS",payload:{method:"readFile",args:[path,{encoding:"utf8"}]}})),removeFile:(path,e)=>_(l({id:e,action:"FS",payload:{method:"unlink",args:[path]}})),FS:(e,t,r)=>_(l({id:r,action:"FS",payload:{method:e,args:t}})),loadLanguage:(e="eng",t)=>_(l({id:t,action:"loadLanguage",payload:{langs:e,options:v}})),initialize:(e="eng",t=f,r,o)=>_(l({id:o,action:"initialize",payload:{langs:e,oem:t,config:r}})),setParameters:(e={},t)=>_(l({id:t,action:"setParameters",payload:{params:e}})),recognize:async(image,e={},output={blocks:!0,text:!0,hocr:!0,tsv:!0},t)=>_(l({id:t,action:"recognize",payload:{image:await E(image),options:e,output:output}})),getPDF:(title="Tesseract OCR Result",e=!1,t)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),_(l({id:t,action:"getPDF",payload:{title:title,textonly:e}}))),detect:async(image,e)=>_(l({id:e,action:"detect",payload:{image:await E(image)}})),terminate:async()=>(null!==O&&(w(O),O=null),Promise.resolve())};var M;return _(l({id:M,action:"load",payload:{options:v}})).then((()=>R(P))).catch((()=>{})),j}},401:function(e,t){e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},417:function(e,t,r){r(21);const o=r(418),n=r(400),l=r(433),c=r(434),d=r(401),f=r(435),{setLogging:h}=r(394);e.exports={languages:c,OEM:d,PSM:f,createScheduler:o,createWorker:n,setLogging:h,...l}},418:function(e,t,r){const o=r(399),{log:n}=r(394),l=r(393);let c=0;e.exports=()=>{const e=l("Scheduler",c),t={},r={};let d=[];c+=1;const f=()=>Object.keys(t).length,h=()=>{if(0!==d.length){const e=Object.keys(t);for(let i=0;i<e.length;i+=1)if(void 0===r[e[i]]){d[0](t[e[i]]);break}}},m=(t,l)=>new Promise(((c,f)=>{const m=o({action:t,payload:l});d.push((async e=>{d.shift(),r[e.id]=m;try{c(await e[t].apply(this,[...l,m.id]))}catch(e){f(e)}finally{delete r[e.id],h()}})),n(`[${e}]: Add ${m.id} to JobQueue`),n(`[${e}]: JobQueue length=${d.length}`),h()}));return{addWorker:r=>(t[r.id]=r,n(`[${e}]: Add ${r.id}`),n(`[${e}]: Number of workers=${f()}`),h(),r.id),addJob:async(t,...r)=>{if(0===f())throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return m(t,r)},terminate:async()=>{Object.keys(t).forEach((async e=>{await t[e].terminate()})),d=[]},getQueueLen:()=>d.length,getNumWorkers:f}}},419:function(e,t,r){const o="browser"===r(420)("type")?r(395):s=>s;e.exports=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach((r=>{e[r]&&(t[r]=o(t[r]))})),t}},420:function(e,t,r){(function(t){const o=r(421);e.exports=e=>{const r={};return"undefined"!=typeof WorkerGlobalScope?r.type="webworker":o()?r.type="electron":"object"==typeof window?r.type="browser":"object"==typeof t&&(r.type="node"),void 0===e?r:r[e]}}).call(this,r(170))},421:function(e,t,r){(function(t){e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!(void 0===t||"object"!=typeof t.versions||!t.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}}).call(this,r(170))},422:function(e,t){e.exports=e=>{const t=[],r=[],o=[],n=[],l=[];return e.blocks&&e.blocks.forEach((c=>{c.paragraphs.forEach((t=>{t.lines.forEach((line=>{line.words.forEach((r=>{r.symbols.forEach((o=>{l.push({...o,page:e,block:c,paragraph:t,line:line,word:r})})),n.push({...r,page:e,block:c,paragraph:t,line:line})})),o.push({...line,page:e,block:c,paragraph:t})})),r.push({...t,page:e,block:c})})),t.push({...c,page:e})})),{...e,blocks:t,paragraphs:r,lines:o,words:n,symbols:l}}},423:function(e,t,r){const o=r(401);e.exports={defaultOEM:o.DEFAULT}},424:function(e,t,r){const o=r(425),n=r(428),l=r(429),c=r(430),d=r(431),f=r(432);e.exports={defaultOptions:o,spawnWorker:n,terminateWorker:l,onMessage:c,send:d,loadImage:f}},425:function(e,t,r){(function(t){const o=r(395),{version:n}=r(426),l=r(427);e.exports={...l,workerPath:void 0!==t&&"development"===t.env.TESS_ENV?o(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://unpkg.com/tesseract.js@v${n}/dist/worker.min.js`,corePath:null}}).call(this,r(170))},426:function(e){e.exports=JSON.parse('{"name":"tesseract.js","version":"4.0.2","description":"Pure Javascript Multilingual OCR","main":"src/index.js","types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","jsdelivr":"dist/tesseract.min.js","scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.js","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","prepublishOnly":"npm run build","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","lint":"eslint src","lint:fix":"eslint --fix src","postinstall":"opencollective-postinstall || true"},"browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"author":"","contributors":["jeromewu"],"license":"Apache-2.0","devDependencies":{"@babel/core":"^7.18.7","@babel/preset-env":"^7.18.7","@rollup/plugin-commonjs":"^22.0.2","acorn":"^6.4.0","babel-loader":"^8.2.0","buffer":"^6.0.3","cors":"^2.8.5","eslint":"^7.2.0","eslint-config-airbnb-base":"^14.2.0","eslint-plugin-import":"^2.22.1","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^10.0.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5","nyc":"^15.1.0","rimraf":"^2.7.1","rollup":"^2.79.0","wait-on":"^3.3.0","webpack":"^5.74.0","webpack-bundle-analyzer":"^4.6.0","webpack-cli":"^4.10.0","webpack-dev-middleware":"^5.3.3"},"dependencies":{"babel-eslint":"^10.1.0","bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^4.0.2","wasm-feature-detect":"^1.2.11","zlibjs":"^0.3.1"},"repository":{"type":"git","url":"https://github.com/naptha/tesseract.js.git"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"homepage":"https://github.com/naptha/tesseract.js","collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"}}')},427:function(e,t){e.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}},428:function(e,t){e.exports=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const t=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(t))}else r=new Worker(e);return r}},429:function(e,t){e.exports=e=>{e.terminate()}},430:function(e,t){e.exports=(e,t)=>{e.onmessage=({data:data})=>{t(data)}}},431:function(e,t){e.exports=async(e,t)=>{e.postMessage(t)}},432:function(e,t,r){const o=r(395),n=e=>new Promise(((t,r)=>{const o=new FileReader;o.onload=()=>{t(o.result)},o.onerror=({target:{error:{code:code}}})=>{r(Error(`File could not be read! Code=${code}`))},o.readAsArrayBuffer(e)})),l=async image=>{let data=image;if(void 0===image)return"undefined";if("string"==typeof image)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(image))data=atob(image.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const e=await fetch(o(image));data=await e.arrayBuffer()}else image instanceof HTMLElement?("IMG"===image.tagName&&(data=await l(image.src)),"VIDEO"===image.tagName&&(data=await l(image.poster)),"CANVAS"===image.tagName&&await new Promise((e=>{image.toBlob((async t=>{data=await n(t),e()}))}))):(image instanceof File||image instanceof Blob)&&(data=await n(image));return new Uint8Array(data)};e.exports=l},433:function(e,t,r){const o=r(400);e.exports={recognize:async(image,e,t)=>{const r=await o(t);return await r.loadLanguage(e),await r.initialize(e),r.recognize(image).finally((async()=>{await r.terminate()}))},detect:async(image,e)=>{const t=await o(e);return await t.loadLanguage("osd"),await t.initialize("osd"),t.detect(image).finally((async()=>{await t.terminate()}))}}},434:function(e,t){e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},435:function(e,t){e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}}}]);